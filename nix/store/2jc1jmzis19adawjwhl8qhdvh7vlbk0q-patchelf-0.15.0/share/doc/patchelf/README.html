<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lunix</title>
    <style>
      /* Critical CSS to prevent sidebar flash */
      body.sidebar-collapsed .sidebar {
        transform: translateX(-100%);
      }

      body.sidebar-collapsed .sidebar-toggle {
        left: 0;
      }

      body.sidebar-collapsed .sidebar-toggle svg {
        transform: rotate(180deg);
      }
    </style>
    <script>
      // Apply sidebar state immediately before any DOM rendering
      (function() {
        if (localStorage.getItem("sidebar-collapsed") === "true") {
          document.documentElement.classList.add("sidebar-collapsed");
          document.body.classList.add("sidebar-collapsed");
        }
      })();
    </script>
    <link rel="stylesheet" href="assets/style.css" />
    
    <script defer src="assets/search.js"></script>
    
  </head>
  <body>
    <div class="container">
      <header>
        <div class="header-left">
          <h1 class="site-title"><a href="index.html">Lunix</a></h1>
        </div>
        <nav class="header-nav">
          <ul>
            <li ><a href="options.html">Options</a></li>
            
            <li><a href="search.html">Search</a></li>
            
          </ul>
        </nav>
        
        <div class="search-container">
          <input type="text" id="search-input" placeholder="Search..." />
          <div id="search-results" class="search-results"></div>
        </div>
        
      </header>

      <div class="layout">
        <div class="sidebar-toggle" aria-label="Toggle sidebar">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            width="24"
            height="24"
          >
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path>
          </svg>
        </div>
        <nav class="sidebar">
          <div class="docs-nav">
            <h2>Documents</h2>
            <ul>
              <li><a href="nix/store/2jc1jmzis19adawjwhl8qhdvh7vlbk0q-patchelf-0.15.0/share/doc/patchelf/README.html">README</a></li>
<li><a href="search.html">Search</a></li>

            </ul>
          </div>

          <div class="toc">
            <h2>Contents</h2>
            <ul class="toc-list">
              <ul><li><a href="#compiling-and-testing">Compiling and Testing</a>
<ul><li><a href="#via-autotools">Via Autotools</a>
<li><a href="#via-nix">Via Nix</a>
</ul><li><a href="#author">Author</a>
<li><a href="#license">License</a>
<li><a href="#release-history">Release History</a>
</li></ul></li>
            </ul>
          </div>
        </nav>

        <main class="content">
          <p>PatchELF is a simple utility for modifying existing ELF executables and
libraries.  In particular, it can do the following:</p>
<ul>
<li><p>Change the dynamic loader ("ELF interpreter") of executables:</p>
<pre style="background-color:#ffffff;">
<span style="color:#323232;">$ patchelf --set-interpreter /lib/my-ld-linux.so.2 my-program
</span></pre>
</li>
<li><p>Change the <code>RPATH</code> of executables and libraries:</p>
<pre style="background-color:#ffffff;">
<span style="color:#323232;">$ patchelf --set-rpath /opt/my-libs/lib:/other-libs my-program
</span></pre>
</li>
<li><p>Shrink the <code>RPATH</code> of executables and libraries:</p>
<pre style="background-color:#ffffff;">
<span style="color:#323232;">$ patchelf --shrink-rpath my-program
</span></pre>
<p>This removes from the <code>RPATH</code> all directories that do not contain a
library referenced by <code>DT_NEEDED</code> fields of the executable or library.
For instance, if an executable references one library <a href="options.html#option-libfoo-so" class="option-reference"><code>libfoo.so</code></a>, has
an RPATH <code>/lib:/usr/lib:/foo/lib</code>, and <a href="options.html#option-libfoo-so" class="option-reference"><code>libfoo.so</code></a> can only be found
in <code>/foo/lib</code>, then the new <code>RPATH</code> will be <code>/foo/lib</code>.</p>
<p>In addition, the <code>--allowed-rpath-prefixes</code> option can be used for
further rpath tuning. For instance, if an executable has an <code>RPATH</code>
<code>/tmp/build-foo/.libs:/foo/lib</code>, it is probably desirable to keep
the <code>/foo/lib</code> reference instead of the <code>/tmp</code> entry. To accomplish
that, use:</p>
<pre style="background-color:#ffffff;">
<span style="color:#323232;">$ patchelf --shrink-rpath --allowed-rpath-prefixes /usr/lib:/foo/lib my-program
</span></pre>
</li>
<li><p>Remove declared dependencies on dynamic libraries (<code>DT_NEEDED</code>
entries):</p>
<pre style="background-color:#ffffff;">
<span style="color:#323232;">$ patchelf --remove-needed libfoo.so.1 my-program
</span></pre>
<p>This option can be given multiple times.</p>
</li>
<li><p>Add a declared dependency on a dynamic library (<code>DT_NEEDED</code>):</p>
<pre style="background-color:#ffffff;">
<span style="color:#323232;">$ patchelf --add-needed libfoo.so.1 my-program
</span></pre>
<p>This option can be give multiple times.</p>
</li>
<li><p>Replace a declared dependency on a dynamic library with another one
(<code>DT_NEEDED</code>):</p>
<pre style="background-color:#ffffff;">
<span style="color:#323232;">$ patchelf --replace-needed liboriginal.so.1 libreplacement.so.1 my-program
</span></pre>
<p>This option can be give multiple times.</p>
</li>
<li><p>Change <code>SONAME</code> of a dynamic library:</p>
<pre style="background-color:#ffffff;">
<span style="color:#323232;">$ patchelf --set-soname libnewname.so.3.4.5 path/to/libmylibrary.so.1.2.3
</span></pre>
</li>
</ul>
<h2>Compiling and Testing</h2>
<h3>Via Autotools</h3>
<pre style="background-color:#ffffff;">
<span style="color:#323232;">./bootstrap.sh
</span><span style="color:#323232;">./configure
</span><span style="color:#323232;">make
</span><span style="color:#323232;">make check
</span><span style="color:#323232;">sudo make install
</span></pre>
<h3>Via Nix</h3>
<p>You can build with Nix in several ways.</p>
<ol>
<li><p>Building via <code>nix build</code> will produce the result in <code>./result/bin/patchelf</code>. If you would like to build <em>patchelf</em> with <em>musl</em> try <code>nix build .#patchelf-musl</code></p>
</li>
<li><p>You can launch a development environment with <code>nix develop</code> and follow the autotools steps above. If you would like to develop with <em>musl</em> try <code>nix develop .#musl</code></p>
</li>
</ol>
<h2>Author</h2>
<p>Copyright 2004-2019 Eelco Dolstra <a href="mailto:edolstra@gmail.com">edolstra@gmail.com</a>.</p>
<h2>License</h2>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or (at
your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see <a href="http://www.gnu.org/licenses/"><a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a></a>.</p>
<h2>Release History</h2>
<p>0.14.5 (February 21, 2022):</p>
<ul>
<li>fix faulty version in 0.14.4</li>
</ul>
<p>0.14.4 (February 21, 2022):</p>
<ul>
<li>Several test fixes to fix patchelf test suite on openbsd by @klemensn</li>
<li>Allow multiple modifications in same call by @fzakaria in <a href="https://github.com/NixOS/patchelf/pull/361">https://github.com/NixOS/patchelf/pull/361</a></li>
<li>Add support to build with musl by @fzakaria in <a href="https://github.com/NixOS/patchelf/pull/362">https://github.com/NixOS/patchelf/pull/362</a></li>
<li>Fix typo: s/folllow/follow/ by @bjornfor in <a href="https://github.com/NixOS/patchelf/pull/366">https://github.com/NixOS/patchelf/pull/366</a></li>
<li>mips: fix incorrect polarity on dyn_offset; closes #364 by @a-m-joseph in <a href="https://github.com/NixOS/patchelf/pull/365">https://github.com/NixOS/patchelf/pull/365</a></li>
</ul>
<p>0.14.3 (December 05, 2021):</p>
<ul>
<li>this release adds support for static, pre-compiled patchelf binaries</li>
</ul>
<p>0.14.2 (November 29, 2021):</p>
<ul>
<li>make version number in tarball easier to use for packagers</li>
</ul>
<p>0.14.1 (November 28, 2021):</p>
<ul>
<li>build fix: add missing include</li>
</ul>
<p>0.14 (November 27, 2021):</p>
<p>Changes compared to 0.13:</p>
<ul>
<li>Bug fixes:<ul>
<li>Fix corrupted library names when using --replace-needed multiple times</li>
<li>Fix setting an empty rpath</li>
<li>Don't try to parse .dynamic section of type NOBITS</li>
<li>Fix use-after-free in normalizeNoteSegments</li>
<li>Correct EINTR handling in writeFile</li>
<li>MIPS: Adjust PT_MIPS_ABIFLAGS segment and DT_MIPS_RLD_MAP_REL dynamic section if present</li>
<li>Fix binaries without .gnu.hash section</li>
</ul>
</li>
<li>Support loongarch architecture</li>
<li>Remove limits on output file size for elf files</li>
<li>Allow reading rpath from file</li>
<li>Requires now C++17 for building</li>
</ul>
<p>0.13.1 (November 27, 2021):</p>
<ul>
<li>Bug fixes:<ul>
<li>fix setting empty rpath</li>
<li>use memcpy instead of strcpy to set rpath</li>
<li>Don't try to parse .dynamic section of type NOBITS</li>
<li>fix use-after-free in normalizeNoteSegments</li>
<li>correct EINTR handling in writeFile</li>
<li>Adjust PT_MIPS_ABIFLAGS segment if present</li>
<li>Adjust DT_MIPS_RLD_MAP_REL dynamic section entry if present</li>
<li>fix binaries without .gnu.hash section</li>
</ul>
</li>
</ul>
<p>0.13 (August 5, 2021):</p>
<ul>
<li><p>New <code>--add-rpath</code> flag.</p>
</li>
<li><p>Bug fixes.</p>
</li>
</ul>
<p>0.12 (August 27, 2020):</p>
<ul>
<li><p>New <code>--clear-symbol-version</code> flag.</p>
</li>
<li><p>Better support for relocating NOTE sections/segments.</p>
</li>
<li><p>Improved the default section alignment choice.</p>
</li>
<li><p>Bug fixes.</p>
</li>
</ul>
<p>0.11 (June 9, 2020):</p>
<ul>
<li><p>New <code>--output</code> flag.</p>
</li>
<li><p>Some bug fixes.</p>
</li>
</ul>
<p>0.10 (March 28, 2019):</p>
<ul>
<li><p>Many bug fixes. Please refer to the Git commit log:</p>
<p><a href="https://github.com/NixOS/patchelf/commits/master">https://github.com/NixOS/patchelf/commits/master</a></p>
<p>This release has contributions from Adam Trhoň, Benjamin Hipple,
Bernardo Ramos, Bjørn Forsman, Domen Kožar, Eelco Dolstra, Ezra
Cooper, Felipe Sateler, Jakub Wilk, James Le Cuirot, Karl Millar,
Linus Heckemann, Nathaniel J. Smith, Richard Purdie, Stanislav
Markevich and Tuomas Tynkkynen.</p>
</li>
</ul>
<p>0.9 (February 29, 2016):</p>
<ul>
<li><p>Lots of new features. Please refer to the Git commit log:</p>
<p><a href="https://github.com/NixOS/patchelf/commits/master">https://github.com/NixOS/patchelf/commits/master</a></p>
<p>This release has contributions from Aaron D. Marasco, Adrien
Devresse, Alexandre Pretyman, Changli Gao, Chingis Dugarzhapov,
darealshinji, David Sveningsson, Eelco Dolstra, Felipe Sateler,
Jeremy Sanders, Jonas Kuemmerlin, Thomas Tuegel, Tuomas Tynkkynen,
Vincent Danjean and Vladimír Čunát.</p>
</li>
</ul>
<p>0.8 (January 15, 2014):</p>
<ul>
<li>Fix a segfault caused by certain illegal entries in symbol tables.</li>
</ul>
<p>0.7 (January 7, 2014):</p>
<ul>
<li><p>Rewrite section indices in symbol tables. This for instance allows
gdb to show proper backtraces.</p>
</li>
<li><p>Added `--remove-needed' option.</p>
</li>
</ul>
<p>0.6 (November 7, 2011):</p>
<ul>
<li><p>Hacky support for executables created by the Gold linker.</p>
</li>
<li><p>Support segments with an alignment of 0 (contributed by Zack
Weinberg).</p>
</li>
<li><p>Added a manual page (contributed by Jeremy Sanders
<a href="mailto:jeremy@jeremysanders.net">jeremy@jeremysanders.net</a>).</p>
</li>
</ul>
<p>0.5 (November 4, 2009):</p>
<ul>
<li><p>Various bugfixes.</p>
</li>
<li><p>`--force-rpath' now deletes the DT_RUNPATH if it is present.</p>
</li>
</ul>
<p>0.4 (June 4, 2008):</p>
<ul>
<li><p>Support for growing the RPATH on dynamic libraries.</p>
</li>
<li><p>IA-64 support (not tested) and related 64-bit fixes.</p>
</li>
<li><p>FreeBSD support.</p>
</li>
<li><p><code>--set-rpath', </code>--shrink-rpath' and <code>--print-rpath' now prefer DT_RUNPATH over DT_RPATH, which is obsolete.  When updating, if both are present, both are updated.  If only DT_RPATH is present, it is converted to DT_RUNPATH unless </code>--force-rpath' is specified.  If
neither is present, a DT_RUNPATH is added unless `--force-rpath' is
specified, in which case a DT_RPATH is added.</p>
</li>
</ul>
<p>0.3 (May 24, 2007):</p>
<ul>
<li><p>Support for 64-bit ELF binaries (such as on x86_64-linux).</p>
</li>
<li><p>Support for big-endian ELF binaries (such as on powerpc-linux).</p>
</li>
<li><p>Various bugfixes.</p>
</li>
</ul>
<p>0.2 (January 15, 2007):</p>
<ul>
<li>Provides a hack to get certain programs (such as the
Belastingaangifte 2005) to work.</li>
</ul>
<p>0.1 (October 11, 2005):</p>
<ul>
<li>Initial release.</li>
</ul>

          <div class="footnotes-container">
            <!-- Footnotes will be appended here -->
          </div>
        </main>
      </div>

      <footer>
        <p></p>
      </footer>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Sidebar Toggle functionality
        const toggle = document.querySelector(".sidebar-toggle");

        if (toggle) {
          toggle.addEventListener("click", function () {
            document.body.classList.toggle("sidebar-collapsed");

            // Save state to localStorage
            const isCollapsed = document.body.classList.contains("sidebar-collapsed");
            localStorage.setItem("sidebar-collapsed", isCollapsed);
          });
        }

        // Make headings clickable for anchor links
        const content = document.querySelector(".content");
        const headings = content.querySelectorAll("h1, h2, h3, h4, h5, h6");

        headings.forEach(function (heading) {
          // Make sure all headings have IDs
          if (!heading.id) {
            heading.id = heading.textContent
              .toLowerCase()
              .replace(/[^\w\s-]/g, "")
              .replace(/[\s-]+/g, "-")
              .trim();

            if (!heading.id) {
              heading.id =
                "section-" + Math.random().toString(36).substring(2, 9);
            }
          }

          // Make the entire heading clickable
          heading.addEventListener("click", function (e) {
            const id = this.id;
            history.pushState(null, null, "#" + id);

            // Scroll with offset
            const offset =
              this.getBoundingClientRect().top + window.scrollY - 80;
            window.scrollTo({
              top: offset,
              behavior: "smooth",
            });
          });
        });

        // Process footnotes
        const footnoteContainer = document.querySelector(
          ".footnotes-container",
        );

        // Find all footnote references and create a footnotes section
        const footnoteRefs = content.querySelectorAll('a[href^="#fn"]');
        if (footnoteRefs.length > 0) {
          const footnotesDiv = document.createElement("div");
          footnotesDiv.className = "footnotes";

          const footnotesHeading = document.createElement("h2");
          footnotesHeading.textContent = "Footnotes";
          footnotesDiv.appendChild(footnotesHeading);

          const footnotesList = document.createElement("ol");
          footnoteContainer.appendChild(footnotesDiv);
          footnotesDiv.appendChild(footnotesList);

          // Add footnotes
          document.querySelectorAll(".footnote").forEach((footnote) => {
            const id = footnote.id;
            const content = footnote.innerHTML;

            const li = document.createElement("li");
            li.id = id;
            li.innerHTML = content;

            // Add backlink
            const backlink = document.createElement("a");
            backlink.href = "#fnref:" + id.replace("fn:", "");
            backlink.className = "footnote-backlink";
            backlink.textContent = "↩";
            li.appendChild(backlink);

            footnotesList.appendChild(li);
          });
        }

        // Handle initial hash navigation
        function scrollToElement(element) {
          if (element) {
            const offset =
              element.getBoundingClientRect().top + window.scrollY - 80;
            window.scrollTo({
              top: offset,
              behavior: "smooth",
            });
          }
        }

        if (window.location.hash) {
          const targetElement = document.querySelector(window.location.hash);
          if (targetElement) {
            setTimeout(() => scrollToElement(targetElement), 0);
          }
        }
      });
    </script>
    <script src="assets/search.js"></script>

  </body>
</html>
